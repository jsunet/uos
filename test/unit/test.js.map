{"version":3,"sources":["unit/test.js"],"names":["require","install","Package","describe","it","assert","equal","date","Date","cc","UOS","CopyConditions","setModified","modified","throws","hi","setUnmodified","unmodified","nockRequests","timeout","beforeEach","Nock","cleanAll","afterEach","forEach","element","request","isDone","done","client","Client","endPoint","port","accessKey","secretKey","useSSL","e","secure","process","platform","arch","version","userAgent","setAppInfo","getObject","putObject","Stream","Readable","maxObjectSize","statObject","removeObject"],"mappings":"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","sourcesContent":["require('source-map-support').install()\n\nimport { assert } from 'chai'\nimport Nock from 'nock'\nimport Stream from 'stream'\nimport * as UOS from '../../../dist/main/uos'\nimport { isValidEndpoint, isValidIP, makeDateLong, makeDateShort } from '../../../dist/main/helpers'\n\nvar Package = require('../../../package.json')\n\ndescribe('Helpers', () => {\n  it('should validate for s3 endpoint', () => {\n    assert.equal(isValidEndpoint('s3.amazonaws.com'), true)\n  })\n  it('should validate for s3 china', () => {\n    assert.equal(isValidEndpoint('s3.cn-north-1.amazonaws.com.cn'), true)\n  })\n  it('should validate for us-west-2', () => {\n    assert.equal(isValidEndpoint('s3-us-west-2.amazonaws.com'), true)\n  })\n  it('should fail for invalid endpoint characters', () => {\n    assert.equal(isValidEndpoint('111.#2.11'), false)\n  })\n  it('should validate for valid ip', () => {\n    assert.equal(isValidIP('1.1.1.1'), true)\n  })\n  it('should fail for invalid ip', () => {\n    assert.equal(isValidIP('1.1.1'), false)\n  })\n  it('should make date short', () => {\n    let date = new Date('2012-12-03T17:25:36.331Z')\n\n    assert.equal(makeDateShort(date), '20121203')\n  })\n  it('should make date long', () => {\n    let date = new Date('2017-08-11T17:26:34.935Z')\n\n    assert.equal(makeDateLong(date), '20170811T172634Z')\n  })\n})\n\ndescribe('CopyConditions', () => {\n  let date = 'Fri, 11 Aug 2017 19:34:18 GMT'\n\n  let cc = new UOS.CopyConditions()\n\n  describe('#setModified', () => {\n    it('should take a date argument', () => {\n      cc.setModified(new Date(date))\n\n      assert.equal(cc.modified, date)\n    })\n\n    it('should throw without date', () => {\n      assert.throws(() => {\n        cc.setModified()\n      }, /date must be of type Date/)\n\n      assert.throws(() => {\n        cc.setModified({ hi: 'there' })\n      }, /date must be of type Date/)\n    })\n  })\n\n  describe('#setUnmodified', () => {\n    it('should take a date argument', () => {\n      cc.setUnmodified(new Date(date))\n\n      assert.equal(cc.unmodified, date)\n    })\n\n    it('should throw without date', () => {\n      assert.throws(() => {\n        cc.setUnmodified()\n      }, /date must be of type Date/)\n\n      assert.throws(() => {\n        cc.setUnmodified({ hi: 'there' })\n      }, /date must be of type Date/)\n    })\n  })\n})\n\ndescribe('Client', function() {\n  var nockRequests = []\n  this.timeout(5000)\n  beforeEach(() => {\n    Nock.cleanAll()\n    nockRequests = []\n  })\n  afterEach(() => {\n    nockRequests.forEach(element => {\n      if (!element.request.isDone()) {\n        element.request.done()\n      }\n    })\n  })\n  var client = new UOS.Client({\n    endPoint: 'localhost',\n    port: 9000,\n    accessKey: 'accesskey',\n    secretKey: 'secretkey',\n    useSSL: false\n  })\n  describe('new client', () => {\n    it('should work with https', () => {\n      var client = new UOS.Client({\n        endPoint: 'localhost',\n        accessKey: 'accesskey',\n        secretKey: 'secretkey'\n      })\n      assert.equal(client.port, 443)\n    })\n    it('should override port with http', () => {\n      var client = new UOS.Client({\n        endPoint: 'localhost',\n        port: 9000,\n        accessKey: 'accesskey',\n        secretKey: 'secretkey',\n        useSSL: false\n      })\n      assert.equal(client.port, 9000)\n    })\n    it('should work with http', () => {\n      var client = new UOS.Client({\n        endPoint: 'localhost',\n        accessKey: 'accesskey',\n        secretKey: 'secretkey',\n        useSSL: false\n      })\n      assert.equal(client.port, 80)\n    })\n    it('should override port with https', () => {\n      var client = new UOS.Client({\n        endPoint: 'localhost',\n        port: 9000,\n        accessKey: 'accesskey',\n        secretKey: 'secretkey'\n      })\n      assert.equal(client.port, 9000)\n    })\n    it('should fail with url', (done) => {\n      try {\n        new UOS.Client({\n          endPoint: 'http://localhost:9000',\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n      } catch (e) {\n        done()\n      }\n    })\n    it('should fail with alphanumeric', (done) => {\n      try {\n        new UOS.Client({\n          endPoint: 'localhost##$@3',\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n      } catch (e) {\n        done()\n      }\n    })\n    it('should fail with no url', (done) => {\n      try {\n        new UOS.Client({\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n      } catch (e) {\n        done()\n      }\n    })\n    it('should fail with bad port', (done) => {\n      try {\n        new UOS.Client({\n          endPoint: 'localhost',\n          port: -1,\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n      } catch (e) {\n        done()\n      }\n    })\n    it('should fail when secure param is passed', (done) => {\n      try {\n        new UOS.Client({\n          endPoint: 'localhost',\n          secure: false,\n          port: 9000,\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n      } catch (e) {\n        done()\n      }\n    })\n    it('should fail when secure param is passed', (done) => {\n      try {\n        new UOS.Client({\n          endPoint: 'localhost',\n          secure: true,\n          port: 9000,\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n      } catch (e) {\n        done()\n      }\n    })\n  })\n  describe('User Agent', () => {\n    it('should have a default user agent', () => {\n      var client = new UOS.Client({\n        endPoint: 'localhost',\n        accessKey: 'accesskey',\n        secretKey: 'secretkey'\n      })\n      assert.equal(`UOS (${process.platform}; ${process.arch}) uos-js/${Package.version}`,\n                   client.userAgent)\n    })\n    it('should set user agent', () => {\n      var client = new UOS.Client({\n        endPoint: 'localhost',\n        accessKey: 'accesskey',\n        secretKey: 'secretkey'\n      })\n      client.setAppInfo('test', '3.2.1')\n      assert.equal(`UOS (${process.platform}; ${process.arch}) uos-js/${Package.version} test/3.2.1`,\n                   client.userAgent)\n    })\n    it('should set user agent without comments', () => {\n      var client = new UOS.Client({\n        endPoint: 'localhost',\n        accessKey: 'accesskey',\n        secretKey: 'secretkey'\n      })\n      client.setAppInfo('test', '3.2.1')\n      assert.equal(`UOS (${process.platform}; ${process.arch}) uos-js/${Package.version} test/3.2.1`,\n                   client.userAgent)\n    })\n    it('should not set user agent without name', (done) => {\n      try {\n        var client = new UOS.Client({\n          endPoint: 'localhost',\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n        client.setAppInfo(null, '3.2.1')\n      } catch (e) {\n        done()\n      }\n    })\n    it('should not set user agent with empty name', (done) => {\n      try {\n        var client = new UOS.Client({\n          endPoint: 'localhost',\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n        client.setAppInfo('', '3.2.1')\n      } catch (e) {\n        done()\n      }\n    })\n    it('should not set user agent without version', (done) => {\n      try {\n        var client = new UOS.Client({\n          endPoint: 'localhost',\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n        client.setAppInfo('test', null)\n      } catch (e) {\n        done()\n      }\n    })\n    it('should not set user agent with empty version', (done) => {\n      try {\n        var client = new UOS.Client({\n          endPoint: 'localhost',\n          accessKey: 'accesskey',\n          secretKey: 'secretkey'\n        })\n        client.setAppInfo('test', '')\n      } catch (e) {\n        done()\n      }\n    })\n  })\n\n  describe('object level', () => {\n    describe('#getObject(bucket, object, callback)', () => {\n      it('should fail on null bucket', (done) => {\n        try {\n          client.getObject(null, 'hello', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on empty bucket', (done) => {\n        try {\n          client.getObject('', 'hello', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on empty bucket', (done) => {\n        try {\n          client.getObject('  \\n  \\t  ', 'hello', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on null object', (done) => {\n        try {\n          client.getObject('hello', null, function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on empty object', (done) => {\n        try {\n          client.getObject('hello', '', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n    })\n\n    describe('#putObject(bucket, object, source, size, contentType, callback)', () => {\n      describe('with small objects using single put', () => {\n        // it('should fail when data is smaller than specified', (done) => {\n        //   var s = new Stream.Readable()\n        //   s._read = function() {}\n        //   s.push('hello world')\n        //   s.push(null)\n        //   client.putObject('bucket', 'object', s, 12, '', (e) => {\n        //     if (e) {\n        //       done()\n        //     }\n        //   })\n        // })\n        // it('should fail when data is larger than specified', (done) => {\n        //   var s = new Stream.Readable()\n        //   s._read = function() {}\n        //   s.push('hello world')\n        //   s.push(null)\n        //   client.putObject('bucket', 'object', s, 10, '', (e) => {\n        //     if (e) {\n        //       done()\n        //     }\n        //   })\n        // })\n        it('should fail with invalid bucket name', () => {\n          assert.throws(() => {\n            client.putObject('ab', 'object', () => {})\n          }, /Invalid bucket name/)\n        })\n        it('should fail with invalid object name', () => {\n          assert.throws(() => {\n            client.putObject('bucket', '', () => {})\n          }, /Invalid object name/)\n        })\n        it('should error with size > maxObjectSize', () => {\n          assert.throws(() => {\n            client.putObject('bucket', 'object', new Stream.Readable(), client.maxObjectSize + 1, () => {})\n          }, /size should not be more than/)\n        })\n        it('should fail on null bucket', (done) => {\n          try {\n            client.putObject(null, 'hello', null, 1, '', function() {})\n          } catch (e) {\n            done()\n          }\n        })\n        it('should fail on empty bucket', (done) => {\n          try {\n            client.putObject(' \\n \\t ', 'hello', null, 1, '', function() {})\n          } catch (e) {\n            done()\n          }\n        })\n        it('should fail on empty bucket', (done) => {\n          try {\n            client.putObject('', 'hello', null, 1, '', function() {})\n          } catch (e) {\n            done()\n          }\n        })\n        it('should fail on null object', (done) => {\n          try {\n            client.putObject('hello', null, null, 1, '', function() {})\n          } catch (e) {\n            done()\n          }\n        })\n        it('should fail on empty object', (done) => {\n          try {\n            client.putObject('hello', '', null, 1, '', function() {})\n          } catch (e) {\n            done()\n          }\n        })\n      })\n    })\n\n\n    describe('#statObject(bucket, object, callback)', () => {\n      it('should fail on null bucket', (done) => {\n        try {\n          client.statObject(null, 'hello', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on empty bucket', (done) => {\n        try {\n          client.statObject('', 'hello', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on empty bucket', (done) => {\n        try {\n          client.statObject('  \\n  \\t  ', 'hello', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on null object', (done) => {\n        try {\n          client.statObject('hello', null, function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on empty object', (done) => {\n        try {\n          client.statObject('hello', '', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n\n      it('should fail on incompatible argument type (number) for statOpts object', (done) => {\n        try {\n          client.statObject('hello', 'testStatOpts', 1, function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on incompatible argument type (null) for statOpts object', (done) => {\n        try {\n          client.statObject('hello', 'testStatOpts', null, function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on incompatible argument type (sting) for statOpts object', (done) => {\n        try {\n          client.statObject('hello', 'testStatOpts', '  ', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n        \n    })\n\n    describe('#removeObject(bucket, object, callback)', () => {\n      it('should fail on null bucket', (done) => {\n        try {\n          client.removeObject(null, 'hello', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on empty bucket', (done) => {\n        try {\n          client.removeObject('', 'hello', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on empty bucket', (done) => {\n        try {\n          client.removeObject('  \\n  \\t  ', 'hello', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on null object', (done) => {\n        try {\n          client.removeObject('hello', null, function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      it('should fail on empty object', (done) => {\n        try {\n          client.removeObject('hello', '', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      //Versioning related options as removeOpts\n      it('should fail on empty (null) removeOpts object', (done) => {\n        try {\n          client.removeObject('hello', 'testRemoveOpts',null, function() {})\n        } catch (e) {\n          done()\n        }\n      })\n      \n      it('should fail on empty (string) removeOpts', (done) => {\n        try {\n          client.removeObject('hello', 'testRemoveOpts','', function() {})\n        } catch (e) {\n          done()\n        }\n      })\n    })\n\n  })\n})\n\n"],"file":"test.js"}